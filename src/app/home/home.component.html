<div class="container" *ngIf="Loaded == true">
  <mat-grid-list cols="4" rowHeight="100px">
    <mat-grid-tile colspan="2">
      <button mat-raised-button color="primary" (click)="onCN()">Send CN message</button>
      <button mat-raised-button color="primary" (click)="onRN()" style="margin-left: 15px;">Send RN message</button>
    </mat-grid-tile>
  </mat-grid-list>
  <mat-divider></mat-divider>

  <h1 style="margin-left: 50px; margin-top: 40px;">The Open Cases</h1>
  
  <div class="table-style" >
    <table mat-table [dataSource]="Data" matSort class="mat-elevation-z8" #ViewSort='matSort'>

      <!-- Level Column -->
      <ng-container matColumnDef="Level" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
        <td mat-cell *matCellDef="let element">{{element.level}}</td>
      </ng-container>
  
      <!-- Created at Column -->
      <ng-container matColumnDef="created_at">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Created__________</th>
        <td mat-cell *matCellDef="let element">{{element.created_at.replace('T', ' ').substring('0','16')}}</td>
      </ng-container>
  
      <!-- Reason Column -->
      <ng-container matColumnDef="reason">
        <th mat-header-cell *matHeaderCellDef>Reason</th>
        <td mat-cell *matCellDef="let element" >{{element.reason}} </td>
      </ng-container>

      <!-- Problem Column -->
      <ng-container matColumnDef="problem">
        <th mat-header-cell *matHeaderCellDef>Problem</th>
        <td mat-cell *matCellDef="let element" >{{element.problem}} </td>
      </ng-container>

      <!-- Type Column -->
      <ng-container matColumnDef="type" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
        <td mat-cell *matCellDef="let element">{{element.type}}</td>
      </ng-container>
  
      <!-- Start Time at Column -->
      <ng-container matColumnDef="start_time" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Start_Time_______</th>
        <td mat-cell *matCellDef="let element">{{element.start_time.replace('T', ' ').substring('0','16')}}</td>
      </ng-container>
  
      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element" >{{element.description}} </td>
      </ng-container>

       <!-- Influence Column -->
       <ng-container matColumnDef="influence">
        <th mat-header-cell *matHeaderCellDef>Influence</th>
        <td mat-cell *matCellDef="let element" >{{element.influence}} </td>
      </ng-container>

       <!-- Region Column -->
       <ng-container matColumnDef="region">
        <th mat-header-cell *matHeaderCellDef>Influence</th>
        <td mat-cell *matCellDef="let element" >{{element.region}} </td>
      </ng-container>

       <!-- User Column -->
       <ng-container matColumnDef="user">
        <th mat-header-cell *matHeaderCellDef>User</th>
        <td mat-cell *matCellDef="let element" >{{user?.username}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let row" >
          <a style="text-decoration: none" routerLink="/home/{{row.type}}/{{row.id}}" (click)="onEdit()">Edit</a>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <ng-container>
        <tr mat-row 
          [ngClass]="{'hidden': row.is_complete === true} "
          *matRowDef="let row; columns: displayedColumns;"></tr>
      </ng-container>
    </table>
  </div>

  <hr>

  <h1 style="margin-left: 50px; margin-top: 40px;">The All Cases</h1>
  
  <div class="table-style" >
    <table mat-table [dataSource]="Data" class="mat-elevation-z8" >

      <!-- Level Column -->
      <ng-container matColumnDef="Level" >
        <th mat-header-cell *matHeaderCellDef>Level</th>
        <td mat-cell *matCellDef="let element">{{element.level}}</td>
      </ng-container>
  
      <!-- Created at Column -->
      <ng-container matColumnDef="created_at">
        <th mat-header-cell *matHeaderCellDef>Created__________</th>
        <td mat-cell *matCellDef="let element">{{element.created_at.replace('T', ' ').substring('0','16')}}</td>
      </ng-container>
  
      <!-- Reason Column -->
      <ng-container matColumnDef="reason">
        <th mat-header-cell *matHeaderCellDef>Reason</th>
        <td mat-cell *matCellDef="let element" >{{element.reason}} </td>
      </ng-container>

      <!-- Problem Column -->
      <ng-container matColumnDef="problem">
        <th mat-header-cell *matHeaderCellDef>Problem</th>
        <td mat-cell *matCellDef="let element" >{{element.problem}} </td>
      </ng-container>

      <!-- Type Column -->
      <ng-container matColumnDef="type" >
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let element">{{element.type}}</td>
      </ng-container>
  
      <!-- Start Time at Column -->
      <ng-container matColumnDef="start_time">
        <th mat-header-cell *matHeaderCellDef>Start_Time_______</th>
        <td mat-cell *matCellDef="let element">{{element.start_time.replace('T', ' ').substring('0','16')}}</td>
      </ng-container>
  
      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element" >{{element.description}} </td>
      </ng-container>

       <!-- Influence Column -->
       <ng-container matColumnDef="influence">
        <th mat-header-cell *matHeaderCellDef>Influence</th>
        <td mat-cell *matCellDef="let element" >{{element.influence}} </td>
      </ng-container>

       <!-- Region Column -->
       <ng-container matColumnDef="region">
        <th mat-header-cell *matHeaderCellDef>Influence</th>
        <td mat-cell *matCellDef="let element" >{{element.region}} </td>
      </ng-container>

       <!-- User Column -->
       <ng-container matColumnDef="user">
        <th mat-header-cell *matHeaderCellDef>User</th>
        <td mat-cell *matCellDef="let element" >{{user?.username}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let row" >
          <a style="text-decoration: none" routerLink="/home/{{row.type}}/{{row.id}}" (click)="onEdit()">Edit</a>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <ng-container>
        <tr mat-row
          *matRowDef="let row; columns: displayedColumns;"></tr>
      </ng-container>
    </table>
  </div>

  <h1 style="margin-left: 50px; margin-top: 40px;"> Test </h1>

  <!-- <div>
    <mat-form-field appearance="fill">
      <mat-label>Filter Table</mat-label>
      <input matInput placeholder="" search>
    </mat-form-field>

    <div>
      <table mat-table matSort>

        <ng-container matColumnDef="level">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
          <td mat-cell>THis is Level</td>
        </ng-container>
        <ng-container>
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
          <td mat-cell>THis is Level</td>
        </ng-container>
        <ng-container>
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
          <td mat-cell>THis is Level</td>
        </ng-container>
        <ng-container>
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
          <td mat-cell>THis is Level</td>
        </ng-container>
        <ng-container>
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
          <td mat-cell>THis is Level</td>
        </ng-container>
        <ng-container>
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
          <td mat-cell>THis is Level</td>
        </ng-container>

      </table>
    </div>
  </div> -->

</div>
<router-outlet></router-outlet>